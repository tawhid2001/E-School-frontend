<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Enligten E-School</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    <!-- Navbar -->
    <div id="navbar"></div>


    
    
    <div class="main">
      
      <div id="initial">
        <h2>Welcome to Enlighten Institute!</h2>
        <p>
          At Enlighten Institute, we believe in empowering minds through education
          and fostering a community of lifelong learners.
        </p>
        <p>
          Whether you're looking to expand your knowledge, acquire new skills, or
          engage with our diverse courses, we're here to support your journey.
        </p>
        <p>
          Ready to get started?
          <a href="./login.html" class="btn btn-primary">Login</a> or
          <a href="./registration.html" class="btn btn-secondary">Register</a> now!
        </p>
      </div>

      <!-- User Info -->
      <div class="w-75 mx-auto" id="userDetails"></div>

       


      <!-- All Post -->
      <div class="row w-75 mx-auto mt-5" id="all-courses"></div>
      </div>

      

    <script>

      const token = localStorage.getItem("authToken");
      if(token){
        document.getElementById("initial").style.display = 'none';
      }
    </script>
    <script src="./navbar.js"></script>
    <script src="./auth.js"></script>
    <script src="./app.js"></script>
    <script src="./enrolled_course.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded",loadCourses);
      document.addEventListener("DOMContentLoaded",fetchMyCourses);
    </script>
    <script>
      // Function to check if user is logged in
      function isLoggedIn() {
          const authToken = localStorage.getItem('authToken'); // Adjust this based on how you store authentication token

          // Return true if authToken exists (user is logged in), false otherwise
          return authToken !== null;
      }

      // Function to toggle user container visibility based on login status
      function toggleUserContainerVisibility() {
          const userContainer = document.getElementById('userDetails');
          const allcourse = document.getElementById('all-courses');

          if (isLoggedIn()) {
              userDetails();
              userContainer.style.display = 'flex'; // Show user container
          } else {
              userContainer.style.display = 'none'; // Hide user container
              allcourse.style.display = 'none';
          }
      }

      // Call toggleUserContainerVisibility initially and whenever needed
      toggleUserContainerVisibility();

      // Example: Call userDetails function to fetch and display user details
      
  </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>